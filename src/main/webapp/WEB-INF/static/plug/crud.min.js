function newinsert(c,a,b){$("#"+c).dialog("open").dialog("setTitle",b);$("#"+a).form("clear");}function newshow(f,b,a,e){var c=$("#"+a).datagrid("getSelections");if(c==null||c==""||c.length==0){jQuery.messager.alert("提示:","请选择操作记录!");return;}if(c.length>1){jQuery.messager.alert("提示:","只能操作一条记录!");return;}var d=$("#"+a).datagrid("getSelected");if(d){$("#"+f).dialog("open").dialog("setTitle",e);$("#"+b).form("load",d);}}function newedit(f,b,a,e){var c=$("#"+a).datagrid("getSelections");if(c==null||c==""||c.length==0){jQuery.messager.alert("提示:","请选择操作记录!");return;}if(c.length>1){jQuery.messager.alert("提示:","只能操作一条记录!");return;}var d=$("#"+a).datagrid("getSelected");if(d){$("#"+f).dialog("open").dialog("setTitle",e);$("#"+b).form("load",d);}}function newsave(d,c,b,a){$("#"+c).form("submit",{url:a,onSubmit:function(){return $(this).form("validate");},success:function(e){doMessage(e,b,d);}});}function newremove(b,a,c){var d=$("#"+b).datagrid("getSelected");if(d==null||d==""||d.length==0){jQuery.messager.alert("提示:","请选择操作记录!");return;}if(d){$.messager.confirm("提示","是否确定删除?",function(g){if(g){var h=$("#"+b).datagrid("getSelections");var f="";for(var e=0;e<h.length;e++){var j=h[e];if(e!=0){f+=",";}f+=j[c];}deleterow(b,a,f);}});}}function deleterow(c,a,b){$.ajax({type:"POST",url:a,data:"pkId="+b,success:function(d){doMessage(d,c,null);}});}function formatTodo(b,a,c){return'<a href="#'+a["tId"]+'">修改</a>&nbsp;|&nbsp;<a onclick="" href="#'+a["tId"]+'">删除</a>';}function resetPage(a){document.getElementById(a).reset();window.location.reload();}function reloadPage(){window.location.reload();}function showview(e,h,d,g){d="fm";var a=$("#"+d+">input");alert(a.length);for(var c=0;c<a.length;c++){a[c].css({border:0});}var f=$("#"+e).datagrid("getSelected");if(f){$("#"+h).dialog("open").dialog("setTitle",g);$("#"+d).form("load",f);}}function datagridSearch(a,b){$("#"+a).datagrid("options").queryParams=paramValue(b);$("#"+a).datagrid("loadData",{total:0,rows:[]});$("#"+a).datagrid({queryParams:$("#"+a).datagrid("options").queryParams,pagination:true});}function initTable(a,b){var c=$("#"+a).datagrid("getPager");if(c){$(c).pagination({pageSize:10,onBeforeRefresh:function(){},onRefresh:function(e,d){},onChangePageSize:function(){},onSelectPage:function(e,d){$("#"+a).datagrid("loadData",{total:0,rows:[]});$("#"+a).datagrid({queryParams:$("#"+a).datagrid("options").queryParams,});}});}datagridSearch(a,b);}function paramValue(sfm){var b=$("#"+sfm+">input");var param="";for(var i=0;i<b.length;i++){var bname=b[i].id;if(bname==null||bname==""){bname=b[i].name;}if(bname!=null&&bname!=""){var sb=bname.split("search_");if(sb.length<=1){return;}if(b[i].type=="text"||b[i].type=="hidden"){param+=',"'+sb[1]+'":"'+b[i].value+'"';}if(b[i].type=="radio"||b[i].type=="radio"){if(b[i].checked){param+=',"'+sb[1]+'":"'+b[i].value+'"';}}}}var s=$("#"+sfm+">select");for(var i=0;i<s.length;i++){var sname=s[i].id;if(sname==null||sname==""){sname=s[i].name;}if(sname!=null&&sname!=""){var ssb=sname.split("search_");if(ssb.length>1){param+=',"'+ssb[1]+'":"'+s[i].value+'"';}}}return eval("({"+param.substring(1,param.length)+"})");}